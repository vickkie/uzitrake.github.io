/*! For license information please see bundle.js.LICENSE.txt */
(()=>{let e=e=>document.querySelector(e),t=e=>document.querySelectorAll(e);"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./offline-uzitrake.js").catch((e=>console.log("Error:",e)))})),t(".emailme").forEach((e=>{e.addEventListener("click",(function(){window.open("mailto:vickkietrake@gmail.com")}))})),gsap.registerPlugin(SplitText);document.querySelectorAll(".split-char").forEach((e=>{new SplitText(e,{type:"chars,words",charsClass:"char",wordsClass:"word"})})),document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{let r=e(".time");function o(){var e=new Date;r.innerHTML=e.toTimeString().substr(0,5)}o(),setInterval((()=>{o()}),1e3);let i=e(".button-menu"),n=e(".button-close"),a=t(".menu-will-open"),s=e(".mf-cursor");function l(){if(innerWidth>767){const e=new Lenis({duration:3,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:2,infinite:!1,autoResize:!0});requestAnimationFrame((function t(r){e.raf(r),requestAnimationFrame(t)}))}}if(a.forEach((e=>{i.addEventListener("click",(()=>{setTimeout((()=>{e.classList.add("menu-is-open"),s&&(s.style.display="none")}),1e3)})),n.addEventListener("click",(()=>{setTimeout((()=>{e.classList.remove("menu-is-open"),s&&(s.style.display="block")}),1e3)}))})),l(),window.addEventListener("resize",l),gsap.registerPlugin(ScrollTrigger),innerWidth>767){t("[line-triggerX]").forEach((function(e){const t=e.getAttribute("line-triggerX"),r=function(e){const t=gsap.timeline({defaults:{duration:2,ease:"power2.out"}});return t.fromTo(e,{scaleX:1,opacity:1,transformOrigin:"center center"},{scaleX:0,opacity:0}),t}(e);ScrollTrigger.create({trigger:t,start:"top 80%",animation:r,onEnter:()=>r.play()})})),t("[line-triggerY]").forEach((function(e){const t=e.getAttribute("line-triggerY"),r=function(e){const t=gsap.timeline({defaults:{duration:2,ease:"power2.out",delay:1.2}});return t.fromTo(e,{scaleY:1,opacity:1,transformOrigin:"bottom"},{scaleY:0,opacity:0}),t}(e);ScrollTrigger.create({trigger:t,start:"top 80%",animation:r,toggleActions:"play none none none"})}))}if(innerWidth>767){let C=e(".empty");function c(){gsap.registerPlugin(ScrollTrigger),gsap.timeline({scrollTrigger:{trigger:C,start:"top bottom",end:"bottom 60%",scrub:!0}}).to(C,{y:"-40vh",ease:"expo.out"})}c(),window.addEventListener("resize",c)}const g=[...t("[data-effect28]")];if(g){gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(SplitText);new SplitText("[data-effect28]",{type:"words,lines,chars",wordsClass:"content__title word",charsClass:"char",linesClass:"lines"});g.forEach((e=>{const t=[...e.querySelectorAll(".word")];for(const e of t){const t=e.querySelectorAll(".char"),r=t.length;gsap.fromTo(t,{"will-change":"transform, filter",transformOrigin:"50% 100%",scale:e=>{const t=e<Math.ceil(r/2)?e:Math.ceil(r/2)-Math.abs(Math.floor(r/2)-e)-1;return gsap.utils.mapRange(0,Math.ceil(r/2),.5,2.1,t)},y:e=>{const t=e<Math.ceil(r/2)?e:Math.ceil(r/2)-Math.abs(Math.floor(r/2)-e)-1;return gsap.utils.mapRange(0,Math.ceil(r/2),0,60,t)},rotation:e=>{const t=e<Math.ceil(r/2)?e:Math.ceil(r/2)-Math.abs(Math.floor(r/2)-e)-1;return e<r/2?gsap.utils.mapRange(0,Math.ceil(r/2),-4,0,t):gsap.utils.mapRange(0,Math.ceil(r/2),0,4,t)},filter:"blur(12px) opacity(0)"},{ease:"power2.inOut",y:0,rotation:0,scale:1,filter:"blur(0px) opacity(1)",scrollTrigger:{trigger:e,start:"top bottom+=40%",end:"top top+=15%",scrub:!0},stagger:{amount:.15,from:"center"}})}}))}let d=e(".menu-gallery"),u=e(".menu-work"),p=d.querySelectorAll(".gallery__item-imginner");u.addEventListener("mouseenter",(()=>{p.forEach((function(e,t){e.getAttribute("data-image"),gsap.timeline().addLabel("rotate,+=0").to(e,{transform:"rotate3d(0, 1, 0, 180deg)",perspective:"1000px",duration:1.2,ease:"power2.in",id:t+1},"rotate").add((()=>{e.classList.add(`menu-image${t}`)}))}))}));let m=e(".knob"),f=e(".dark-toggle"),h=e("body"),w=e(".mf-cursor"),y=!1;if(f.addEventListener("click",(()=>{y=!y,gsap.timeline().to(m,{x:()=>y?18:0,duration:.4,ease:"expo.in"}),t(".portfolio-map a").forEach((e=>{gsap.set(e,{color:y?"#fff":"#000"})})),h.classList.toggle("dark-mode"),w.classList.add("-exclusion")})),innerWidth>767){new MouseFollower}if(e(".mf-cursor")){function v(){innerWidth<768&&(e(".mf-cursor").style.display="none")}v()}window.addEventListener("resize",v),gsap.registerPlugin(ScrollToPlugin);let E=e(".tocontact"),T=e(".toworks"),b=e(".tohero"),M=e(".toabout");E.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:".free-time",ease:"expo.out"})})),T.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:{y:".works",offsetY:50},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})})),b.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:{y:".content-hero"},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})})),M.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:{y:".intro-port",offsetY:10},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})}));let L=t(".portfolio-map a"),k=e("body"),S=getComputedStyle(k).backgroundColor,x=getComputedStyle(k).color,A=gsap.timeline({paused:!0,scrollTrigger:{trigger:".free-time",start:"top center",markers:!1,onEnter:()=>{A.play()},onLeaveBack:()=>{A.reverse()}}});gsap.to(window,{scrollTrigger:{trigger:"body",start:"top top",onEnter:()=>{A.reverse()}}}),L.forEach((e=>{A.fromTo(e,{color:x},{color:S,duration:.4,ease:"power1.out"})}))}),0)}));e(".email-box");let r=e(".in-world-btn-wrap"),o=e(".meeting-content-bottom"),i=gsap.timeline({});i.to(r,{scaleY:0,scaleX:0}),i.fromTo(o,{scaleX:1,opacity:1,transformOrigin:"center center"},{scaleX:0,opacity:0}),ScrollTrigger.create({trigger:r,start:"top 80%",animation:i,onEnter:()=>i.play(),onLeaveBack:()=>i.reverse()});let n=gsap.timeline();n.to(r,{duration:.9,transform:"scale(1,1.25)"}),r.addEventListener("mouseenter",(()=>{n.play()})),r.addEventListener("mouseleave",(()=>{n.reverse()}))})();