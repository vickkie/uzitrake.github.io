let select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e);gsap.registerPlugin(SplitText),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./offline-uzitrake.js").catch((e=>console.log("Error:",e)))}));let emailButtons=selectAll(".emailme");emailButtons.forEach((e=>{e.addEventListener("click",(function(){window.open("mailto:vickkietrake@gmail.com")}))})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".split-char").forEach((e=>{new SplitText(e,{type:"chars,words",charsClass:"char",wordsClass:"word"})}))})),document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{let e=select(".time");function t(){var t=new Date;e.innerHTML=t.toTimeString().substr(0,5)}t(),setInterval((()=>{t()}),1e3);let o=select(".button-menu"),r=select(".button-close"),n=selectAll(".menu-will-open"),l=select(".mf-cursor");function i(){if(innerWidth>767){const e=new Lenis({duration:3,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:2,infinite:!1,autoResize:!0});requestAnimationFrame((function t(o){e.raf(o),requestAnimationFrame(t)}))}}if(n.forEach((e=>{o.addEventListener("click",(()=>{setTimeout((()=>{e.classList.add("menu-is-open"),l&&(l.style.display="none")}),1e3)})),r.addEventListener("click",(()=>{setTimeout((()=>{e.classList.remove("menu-is-open"),l&&(l.style.display="block")}),1e3)}))})),i(),window.addEventListener("resize",i),gsap.registerPlugin(ScrollTrigger),innerWidth>767){selectAll("[line-triggerX]").forEach((function(e){const t=e.getAttribute("line-triggerX"),o=function(e){const t=gsap.timeline({defaults:{duration:2,ease:"power2.out"}});return t.fromTo(e,{scaleX:1,opacity:1,transformOrigin:"center center"},{scaleX:0,opacity:0}),t}(e);ScrollTrigger.create({trigger:t,start:"top 80%",animation:o,onEnter:()=>o.play()})})),selectAll("[line-triggerY]").forEach((function(e){const t=e.getAttribute("line-triggerY"),o=function(e){const t=gsap.timeline({defaults:{duration:2,ease:"power2.out",delay:1.2}});return t.fromTo(e,{scaleY:1,opacity:1,transformOrigin:"bottom"},{scaleY:0,opacity:0}),t}(e);ScrollTrigger.create({trigger:t,start:"top 80%",animation:o,toggleActions:"play none none none"})}))}if(innerWidth>767){let M=select(".empty");function a(){gsap.registerPlugin(ScrollTrigger),gsap.timeline({scrollTrigger:{trigger:M,start:"top bottom",end:"bottom 60%",scrub:!0}}).to(M,{y:"-40vh",ease:"expo.out"})}a(),window.addEventListener("resize",a)}const s=[...selectAll("[data-effect28]")];if(s){gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(SplitText);new SplitText("[data-effect28]",{type:"words,lines,chars",wordsClass:"content__title word",charsClass:"char",linesClass:"lines"});s.forEach((e=>{const t=[...e.querySelectorAll(".word")];for(const e of t){const t=e.querySelectorAll(".char"),o=t.length;gsap.fromTo(t,{"will-change":"transform, filter",transformOrigin:"50% 100%",scale:e=>{const t=e<Math.ceil(o/2)?e:Math.ceil(o/2)-Math.abs(Math.floor(o/2)-e)-1;return gsap.utils.mapRange(0,Math.ceil(o/2),.5,2.1,t)},y:e=>{const t=e<Math.ceil(o/2)?e:Math.ceil(o/2)-Math.abs(Math.floor(o/2)-e)-1;return gsap.utils.mapRange(0,Math.ceil(o/2),0,60,t)},rotation:e=>{const t=e<Math.ceil(o/2)?e:Math.ceil(o/2)-Math.abs(Math.floor(o/2)-e)-1;return e<o/2?gsap.utils.mapRange(0,Math.ceil(o/2),-4,0,t):gsap.utils.mapRange(0,Math.ceil(o/2),0,4,t)},filter:"blur(12px) opacity(0)"},{ease:"power2.inOut",y:0,rotation:0,scale:1,filter:"blur(0px) opacity(1)",scrollTrigger:{trigger:e,start:"top bottom+=40%",end:"top top+=15%",scrub:!0},stagger:{amount:.15,from:"center"}})}}))}let c=select(".knob"),d=select(".dark-toggle"),p=select("body"),g=select(".mf-cursor"),u=!1;if(d.addEventListener("click",(()=>{u=!u,gsap.timeline().to(c,{x:()=>u?18:0,duration:.4,ease:"expo.in"}),selectAll(".portfolio-map a").forEach((e=>{gsap.set(e,{color:u?"#fff":"#000"})})),p.classList.toggle("dark-mode"),g.classList.add("-exclusion")})),innerWidth>767){new MouseFollower}if(select(".mf-cursor")){function m(){innerWidth<768&&(select(".mf-cursor").style.display="none")}m()}window.addEventListener("resize",m),gsap.registerPlugin(ScrollToPlugin);let f=select(".tocontact"),h=select(".toworks"),w=select(".tohero"),y=select(".toabout");f.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:".free-time",ease:"expo.out"})})),h.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:{y:".works",offsetY:50},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})})),w.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:{y:".content-hero"},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})})),y.addEventListener("click",(()=>{gsap.to(window,{duration:3,scrollTo:{y:".intro-port",offsetY:10},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})}));let v=selectAll(".portfolio-map a"),T=select("body"),E=getComputedStyle(T).backgroundColor,L=getComputedStyle(T).color,b=gsap.timeline({paused:!0,scrollTrigger:{trigger:".free-time",start:"top center",markers:!1,onEnter:()=>{b.play()},onLeaveBack:()=>{b.reverse()}}});gsap.to(window,{scrollTrigger:{trigger:"body",start:"top top",onEnter:()=>{b.reverse()}}}),v.forEach((e=>{b.fromTo(e,{color:L},{color:E,duration:.4,ease:"power1.out"})}))}),0)}));let emailbox=select(".email-box"),explorer=select(".in-world-btn-wrap"),explorerLine=select(".meeting-content-bottom"),exploTl=gsap.timeline({});exploTl.to(explorer,{scaleY:0,scaleX:0}),exploTl.fromTo(explorerLine,{scaleX:1,opacity:1,transformOrigin:"center center"},{scaleX:0,opacity:0}),ScrollTrigger.create({trigger:explorer,start:"top 80%",animation:exploTl,onEnter:()=>exploTl.play(),onLeaveBack:()=>exploTl.reverse()});let expoHoverTl=gsap.timeline();expoHoverTl.to(explorer,{duration:.9,transform:"scale(1,1.25)"}),explorer.addEventListener("mouseenter",(()=>{expoHoverTl.play()})),explorer.addEventListener("mouseleave",(()=>{expoHoverTl.reverse()}));let projects=selectAll(".project__header__linkb");projects.forEach(((e,t)=>{function o(e){return`rgb(${e.join(", ")})`}let r=o([0,0,0]),n=o([210,152,205]),l=gsap.timeline({paused:!0});l.addLabel("start",0).fromTo(e,{duration:.5,backgroundColor:r,ease:"none"},{duration:.5,backgroundColor:n,ease:"none"},"start"),e.addEventListener("mouseenter",(()=>{l.play()})),e.addEventListener("mouseleave",(()=>{l.reverse()}))})),document.addEventListener("DOMContentLoaded",(function(){let e=select("#toTop");function t(){(window.scrollY||document.documentElement.scrollTop)>1.2*window.innerHeight?e.style.display="block":e.style.display="none"}t(),window.addEventListener("scroll",t),e.addEventListener("click",(function(){gsap.to(window,{duration:2,delay:0,scrollTo:{y:".hero-main"},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})}))}));