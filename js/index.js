import{preloadImages}from"./utils.js";preloadImages(".tiles__line-img").then((()=>document.body.classList.remove("loading")));const frame=document.querySelector(".frame"),overlayPath=document.querySelector(".overlay__path"),menuWrap=document.querySelector(".menu-wrap"),menuItems=menuWrap.querySelectorAll(".menu__item"),openMenuCtrl=document.querySelector("button.button-menu"),closeMenuCtrl=menuWrap.querySelector(".button-close");let locationButtons=document.querySelectorAll(".menu__item");locationButtons.forEach(((e,o)=>{e.addEventListener("click",(o=>{o.preventDefault();let a=e.getAttribute("href");closeMenu(),[document.body,document.documentElement].forEach((e=>e.classList.remove("menu-is-open"))),gsap.registerPlugin(ScrollToPlugin),setTimeout((()=>{gsap.to(window,{duration:5,scrollTo:a,ease:Math.min(1,1.001-Math.pow(2,-10*t))})}),1600)}))}));const title={main:document.querySelector(".content__l1"),sub:document.querySelector(".content__l2")};let isAnimating=!1;const openMenu=()=>{isAnimating||(isAnimating=!0,gsap.timeline({onComplete:()=>isAnimating=!1}).set(overlayPath,{attr:{d:"M 0 100 V 100 Q 50 100 100 100 V 100 z"}}).to(overlayPath,{duration:.8,ease:"power4.in",attr:{d:"M 0 100 V 50 Q 50 0 100 50 V 100 z"}},0).to(overlayPath,{duration:.3,ease:"power2",attr:{d:"M 0 100 V 0 Q 50 0 100 0 V 100 z"},onComplete:()=>{frame.classList.add("frame--menu-open"),menuWrap.classList.add("menu-wrap--open")}}).to([title.main,title.sub],{duration:.8,ease:"power3.in",y:-200,stagger:.05},.2).set(menuItems,{opacity:0}).set(overlayPath,{attr:{d:"M 0 0 V 100 Q 50 100 100 100 V 0 z"}}).to(overlayPath,{duration:.3,ease:"power2.in",attr:{d:"M 0 0 V 50 Q 50 0 100 50 V 0 z"}}).to(overlayPath,{duration:.8,ease:"power4",attr:{d:"M 0 0 V 0 Q 50 0 100 0 V 0 z"}}).to(menuItems,{duration:1.1,ease:"power4",startAt:{y:150},y:0,opacity:1,stagger:.05},">-=1.1"))},closeMenu=()=>{isAnimating||(isAnimating=!0,gsap.timeline({onComplete:()=>isAnimating=!1}).set(overlayPath,{attr:{d:"M 0 0 V 0 Q 50 0 100 0 V 0 z"}}).to(overlayPath,{duration:.8,ease:"power4.in",attr:{d:"M 0 0 V 50 Q 50 100 100 50 V 0 z"}},0).to(overlayPath,{duration:.3,ease:"power2",attr:{d:"M 0 0 V 100 Q 50 100 100 100 V 0 z"},onComplete:()=>{frame.classList.remove("frame--menu-open"),menuWrap.classList.remove("menu-wrap--open")}}).set(overlayPath,{attr:{d:"M 0 100 V 0 Q 50 0 100 0 V 100 z"}}).to(overlayPath,{duration:.3,ease:"power2.in",attr:{d:"M 0 100 V 50 Q 50 100 100 50 V 100 z"}}).to(overlayPath,{duration:.8,ease:"power4",attr:{d:"M 0 100 V 100 Q 50 100 100 100 V 100 z"}}).to([title.main,title.sub],{duration:1.1,ease:"power4",y:0,stagger:-.05},">-=1.1").to(menuItems,{duration:.8,ease:"power2.in",y:100,opacity:0,stagger:-.05},0))};openMenuCtrl.addEventListener("click",openMenu),closeMenuCtrl.addEventListener("click",closeMenu);